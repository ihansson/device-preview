window["device-preview"]=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){let n=[],r={};function o(e,t){let r=document.querySelectorAll(e);for(i in r=Array.prototype.slice.call(r))c(r[i]);n=n.concat(r)}function c(e){if(e.device={type:"html"},e.attributes.device){let t=e.attributes.device?function(e){let t={};return e?(e.split(";").forEach((function(e){let n=e.trim().split(/:(.+)/);if(!n[0])return;let i=n[0].trim(),r=!n[1]||n[1].trim();-1!==["numeric..."].indexOf(i)&&(r=parseInt(r)),-1!==["numeric_map..."].indexOf(i)&&(r=r.split(",").map((function(e){return parseFloat(e)}))),t[i]=!n[1]||r})),t):t}(e.attributes.device.nodeValue):{};for(setting in t)e.device[setting]=t[setting]}let t=r[e.device.preset];e.device.preset=t,t.gizmos||(t.gizmos={});let n=t.resolution.split(":"),i=n[1]/n[0];e.device.resolution=n;let o=e.innerHTML,c="padding-bottom: "+100*i+"%;";t.styles||(t.styles={}),t.styles["device-width"]=n[0]+"px",t.styles&&Object.keys(t.styles).forEach((function(e){c+="--"+e+": "+t.styles[e]+";"})),e.setAttribute("style",c);let d=document.createElement("div");d.className="device-wrapper",["back",,"left","right","top","bottom","corners","front"].forEach(n=>{const i=document.createElement("div");if(i.className="device-"+n,t.gizmos[n]&&t.gizmos[n].forEach((function(e){let t=document.createElement("div");if(t.className="device-gizmo device-gizmo-"+e.position+" device-"+e.type,"speaker"==e.type){let n=e.dots;for(;n;){n--;let e=document.createElement("div");e.className="device-speaker-dot",t.appendChild(e)}}"html"==e.type&&(t.innerHTML=e.content),i.appendChild(t)})),"corners"==n&&["bottom-left","bottom-right","top-left","top-right"].forEach((function(e){i.appendChild(function(e,t){const n=document.createElement("div");let i;n.className="device-corner "+e;let r=90/t,o=30/t;for(;t;){t--;let e=document.createElement("div");e.className="device-corner-segment",e.setAttribute("style","transform: rotateY("+r+"deg); width:"+o+"px"),i?i.appendChild(e):n.appendChild(e),i=e}return n}(e,t.corner_resolution))})),"front"==n){let t=document.createElement("div");t.className="device-screen",e.device.image?t.setAttribute("style","background-image: url("+e.device.image+")"):e.device.video?t.innerHTML='<video class="device-screen-video" autoplay muted loop><source src="'+e.device.video+'" type="video/mp4"></video>':e.device.iframe?t.innerHTML='<iframe class="device-screen-iframe" src="'+e.device.iframe+'""></iframe>':t.innerHTML=o,i.appendChild(t)}d.appendChild(i)});let a=document.createElement("div");a.className="device-shadow";let u=document.createElement("div");u.className="device-shadow-inner",a.appendChild(u),e.innerHTML="",e.className="device";let s=document.createElement("div");s.className="device-scalar "+(e.device.animation?e.device.animation:""),s.setAttribute("style","width: "+e.device.resolution[0]+"px; height: "+i*e.device.resolution[0]+"px;"),s.appendChild(a),s.appendChild(d),e.device.scalar=s,e.appendChild(s),l(e)}function d(){let e=n;for(i in e)l(e[i])}function l(e){let t=e.device.resolution[0],n=e.parentNode.offsetWidth;e.device.scalar.style.transform="scale("+n/t+")"}function a(){window.addEventListener("resize",d),window.setTimeout((function(){let e=document.createEvent("Event");e.initEvent("resize",!1,!0),0==window.pageXOffset&&window.dispatchEvent(e)}),60)}const u={add:o,remove:function(e){e.device.timeout&&window.clearTimeout(e.device.timeout),n=n.filter((function(t){return t!==e}))},bind:a,unbind:function(){window.removeEventListener("resize",d)},init:function(e){o("[device]"),a()},add_preset:function(e,t){t.name=e,r[e]=t}};window.device_preview=u,e.exports=u,document.querySelectorAll("[type=range]").forEach((function(e){e.addEventListener("input",(function(e){document.querySelector("#"+e.target.attributes.id.nodeValue+"-value").innerHTML=e.target.value,document.querySelectorAll(".device-wrapper").forEach((function(e){e.setAttribute("style","transform: rotateX("+document.getElementById("x").value+"deg) rotateY("+document.getElementById("y").value+"deg) rotateZ("+document.getElementById("z").value+"deg);")})),document.querySelectorAll(".device-shadow-inner").forEach((function(e){e.setAttribute("style","transform: rotateX("+document.getElementById("x").value+"deg) rotateY("+document.getElementById("y").value+"deg) rotateZ("+document.getElementById("z").value+"deg);")}))}))}))}]);
//# sourceMappingURL=device-preview.min.js.map
<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="demo.css">
		<link rel="stylesheet" type="text/css" href="../dist/device-preview-styles.css">
		<title>Device Preview</title>
	</head>
	<body>
		<article class="wrapper">
			<header>
				<h1>Device Preview - Demo</h1>
				<p>Render device previews with perspective from flat images.</p>
				<dl>
				  <dt>Github</dt>
				  <dd><a href="https://github.com/ihansson/device-preview">github.com/ihansson/device-preview</a></dd>
				  <dt>By Ian Hansson</dt>
				  <dd><a href="https://ianhan.com">ianhan.com</a></dd>
				</dl>
			</header>
			<section class="page">

				<div class="demo">
					<div class="options-wrapper">
						<div class="options">
							<label>
								Preset: <select name="preset">
									<option value="mobile">Mobile</option>
									<option value="mobile_sharp" selected>Mobile Sharp</option>
									<option value="tablet">Tablet</option>
									<option value="thick">Thick</option>
								</select>
							</label>
							<label>
								Media: <select name="media">
									<option value="image" selected>Image</option>
									<option value="video">Video</option>
									<option value="iframe">Iframe</option>
									<option value="html">HTML</option>
								</select>
							</label>
							<label>
								Animation: <select name="animation">
									<option value="device-showcase" selected>Showcase</option>
									<option value="device-turn">Turn</option>
									<option value="off">Off</option>
								</select>
							</label>
							<div class="example-code" style="margin-top: 10px; font-size: 10px; line-height: 1.6em;">
					
							</div>
						</div>
						<div class="display">
							<div device="preset: mobile_sharp; image: screenshot-mobile.png; animation: device-showcase"></div>
						</div>
					</div>
				</div>
				<!--
					<div style="width: 400px; margin: 100px auto;">
						<div device="preset: mobile; image: screenshot-mobile.png; animation: device-showcase"></div>
					</div>
					<div style="width: 400px; margin: 100px auto;">
						<div device="preset: mobile_sharp; image: screenshot-mobile.png; animation: device-showcase"></div>
					</div>
					<div style="width: 800px; margin: 100px auto;">
						<div device="preset: table; image: screenshot.png; animation: device-showcase"></div>
					</div>
					<div style="width: 400px; margin: 100px auto;">
						<div device="preset: thick; image: screenshot.png; animation: device-showcase"></div>
					</div>

					-->
				</div>

			</section>
		</article>

		<script type="text/javascript" src="../dist/device-preview.min.js"></script>
		<script type="text/javascript">

			String.prototype.escape = function() {
			    var tagsToReplace = {
			        '&': '&amp;',
			        '<': '&lt;',
			        '>': '&gt;'
			    };
			    return this.replace(/[&<>]/g, function(tag) {
			        return tagsToReplace[tag] || tag;
			    });
			};

			function change(){
				let inputs = {};
				document.querySelectorAll('select').forEach(function(node){
					inputs[node.name] = node.value
				})
				let media = '';
				let contents = '';
				if(inputs.media == 'image'){
					if(inputs.preset == 'tablet'){
						media = 'image: screenshot.png;';
					} else {
						media = 'image: screenshot-mobile.png;';
					}
				} else if(inputs.media == 'video'){
					media = 'video: video.mp4;';
				} else if(inputs.media == 'iframe'){
					media = 'iframe: test.html;';
				} else {
					contents = '<h3>HTML Content</h3>'
				}
				let options = 'preset: '+inputs.preset+'; '+media+' animation: '+inputs.animation;
				let html = '<div device="'+options+'">'+contents+'</div>';
				document.querySelector('.display').innerHTML = html
				document.querySelector('.example-code').innerHTML = ('<div device="'+options+'">'+contents+'</div>').escape()

				device_preview.init()
			}

			document.querySelector('.options').addEventListener('change', change)

			change()
		</script>
	</body>
</html>